#
#	$Id: ChangeLog,v 1.27 2006/04/10 17:17:42 jberry Exp $
#
#	This is a log of major user-visible changes in each release
#

Release 1.2.1 (10-Apr-2006):

	- Changes to darwinports build infrastructure to allow for build of
	  the darwinports infrastructure as a multiarchitecture binary.
	  This allows darwinports to be built as fat, but does nothing to
	  allow ports themselves to be built as fat. To build darwinports
	  fat, configure as follows:
	  	./configure CFLAGS='-arch ppc -arch i386' SHLIB_LDFLAGS='-arch ppc -arch i386'
	  									backported from HEAD (jberry)
	  									
	- Add a hack in order attempt to detect when a sourceforge mirror
	  is actually returning an error page. If this is detected, proceed
	  to the next mirror.				backported from HEAD (jberry)

Release 1.2 (14-Dec-2005):

	- Syntax change to disambiguate uses of the port's version on the command
	  line, when coupled with new changes to accept multiple ports.
	  The port version must now always be prefixed with an @. Example:
	  	port uninstall vim @1.0
	  This probably only affects uninstall and activate, both of which
	  require a version if there are multiple versions installed.

	- gzip-compress manpages that are in the share/man/cat? directories during
	  destroot, too. (mww)

	- Enhance port command such that targets that require a port to be
	  specified will now all default to a port in current directory. (jberry)
	  
	- Enhance port command to allow multiple ports per invocation.
	  Where previously one said "port install porta; port install portb", 
	  one can now say "port install porta portb". (jberry)
	  
	- Enhance port command to allow use of shell-like glob patterns for
	  port selection. When a glob pattern is found, the group of ports
	  matching the glob pattern is substituted. (jberry)
	  
	- Enhance port command to allow use of "pseudo" portnames to specify
	  groups of ports.
	  When one of these pseudo portnames is specified on the command line,
	  the corresponding group of ports is substituted.

	  Currently defined pseudo portnames are:
	  	current, all, installed, uninstalled, active, inactive, outdated.
	  
	  Additional pseudo portnames can be used to select ports based on a
	  regex pattern match against certain criteria. Each port selector is
	  a name, followed by a colon, followed by the desired regex pattern.
	  The selectors are:
	  variants:, variant:, description:, portdir:, homepage:, epoch:,
	  platforms:, platform:, name:, long_description:, maintainers:, maintainer:,
	  categories:, category:, version:, and revision: (jberry)
	  
	- Enhance port command to allow use of set expressions to combine
	  ports or groups of ports.
	  Supported operators are "and", "or", "not", "!", "(", ")". (jberry)
	  
	- Enhance port command to allow a port to be specified through a file:
	  url instead of via portname. This function was previously available
	  though the -D and -u options, which make less sense now that multiple
	  ports can be specified to a target. (jberry)
	  
	- Under Tiger, startupitems are now by default generated for launchd
	  rather than systemstarter. (jberry)
	  
	- Add new startupitem keys startupitem.executable, startupitem.logfile,
	  startupitem.logevents, startupitem.pidfile, supported for both
	  systemstarter and launchd. (jberry)
	  
	- New Test framework. Running make test from base/tests/ will test
	  several features of port(1) including syntax of Portfiles. New tests
	  can easily be added by simply creating new directories in base/tests/
	  with a Portfile and a master file containing the output of port test
	  in this directory. Some tests are actually more complex. These tests
	  require the port binary to be installed in ${prefix}. (pguyot)

	- svn fetching support, parallel to cvs fetching. Note that
	  this is a bit skanky as svn is not installed on the platform by default.
	  This code will error-out if svn is not installed. (jberry)

	- Removal of old "fetch.args" parameter now that all Portfiles have been
	  properly moved to leverage Paul's libcurl work (yeled)

	- DP now sets its own env variables instead of filtering user declared
	  ones considered harmful (blb)

	- "Canonicalization" of expanded path:${prefix}/foo:bar dependencies
	  when including them in the PortIndex for better abstraction (jberry/pguyot)

	- Addition of the IndexRegen.sh script that takes care of the automated
	  index thingie... (pguyot and jmpp)

	- Miscellaneous cleanups:
		- DP base is assured to respect a temporary DESTDIR installation and
		  other Makefile cleanups (toby, jmpp)
		- s/--with-tclpackagedir/--with-tclpackage/g in autoconf error
		  reports (pguyot)
		- fixes for the buildall.sh script (jkh)

	- Some other fixes for lurking bugs, untapped by the various developments
	  that have taken place since 1.1 ("bunch of developers ;-);

	- Snazzy new ChangeLog file
	
	- Add new actions for port(1): help (get help about port),
	  echo (the expanded arguments),
	  cat (the contents of the Portfiles from the specified ports),
	  edit (also alias "ed", the contents of the Portfiles, using EDITOR or VISUAL),
	  dir (emit path to the port's directory),
	  file (emit path to the port's Portfile)
	  (jberry)
	  
	- On make install, upgrade ports.conf and sources.conf to change rsync.opendarwin.org
	  to rsync.darwinports.org. This is now our preferred rsync hostname.
	  Likewise, rename the rsync destination directories in ${prefix}/var/db/dports/sources
	  in a similar fashion (jberry)


Release 1.1:

	(information not here).
	
Release 1.0:
	
	(information not here).
